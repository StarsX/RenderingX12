//--------------------------------------------------------------------------------------
// Copyright (c) XU, Tianchen. All rights reserved.
//--------------------------------------------------------------------------------------

#include "SHCommon.hlsli"

//--------------------------------------------------------------------------------------
// Textures
//--------------------------------------------------------------------------------------
Texture2D g_txSource;

//--------------------------------------------------------------------------------------
// Pixel shader
//--------------------------------------------------------------------------------------
min16float4 main(const PS_Input input) : SV_TARGET
{
	const uint2 loc = input.Pos.xy;
	min16float4 result = min16float4(g_txSource[loc]);
	result.xyz /= result.xyz + 1.0;

	return min16float4(sqrt(result.xyz), result.w);
}
